<div *ngIf="isLoading" class="loader">Loading...</div>

<div *ngIf="!isLoading">
    <input class="search" [(ngModel)]="searchTerm" (input)="search()" placeholder="Search users by name or username" />
    <table class="table table-striped">
        <thead >
            <tr>
                <th scope="col" style="width: 20px;">#</th>
                <th (click)="sortByName()">Name</th>
                <th (click)="sortByUsername()">Username</th>
                <th (click)="sortByEmail()">Email</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of paginatedUsers">
                <th scope="row">{{user.id}}</th>
                <td><a [routerLink]="['/user-details', user.id]">{{ user.name }}</a></td>
                <td>{{ user.username }}</td>
                <td>{{ user.email }}</td>
            </tr>
        </tbody>
    </table>

    <div class="pagination">
        <button (click)="onPageChange(currentPage - 1)" [disabled]="currentPage === 1">Previous</button>
        <button (click)="onPageChange(currentPage + 1)" [disabled]="currentPage === filteredUsers.length / usersPerPage">Next</button>
    </div>
</div>